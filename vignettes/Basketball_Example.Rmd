---
title: "NCAA Aggregator Demonstration"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{NCAA Aggregator Demonstration}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(NCAAggregator)
library(dplyr)
library(tidyr)
```

College Basketball is known to be one of the most predicted sports, especially at the seasons conclusion, the tournament called March Madness, which has [56 Million brackets filled out](https://www.statista.com/statistics/1223099/bracket-march-madness-intention/). There has thus been a quest to create better and better models, to win money, and to break a margin of error of 8.5. As illustrated by many papers, most prominently by Philip Tetlock in his book Superforecasting, in domains with a lot of different sources of signal and noise, aggregating forecasts can be extremely helpful to improve forecasting perfomance, and can often outperform even the best forecasters. Considering basketball has a lot of signal (team performance so far from a variety of metrics, home court, individual matchups, coaching, strength of schedule) and a lot of sources of noise (unlucky misses, players having bad nights, unknown injuries), it seems natural to use aggregation to improve college basketball forecasts. So this is what this package seeks to do. 

##Full Season Workflow 
We first get import our 2023 game data set (downloaded using [HoopR](https://github.com/sportsdataverse/hoopR-data/tree/main) and use the included data wrangling functions

```{r}
file_path <- system.file("extdata", "team_box_2021.csv", package = "NCAAggregator")
data_2021 <- read.csv(file_path)
regression_2021 <- wrangle_basketball_data(data_2021)
```


##Combining Models and Forecasts

In that previous example we just looked at integrating the models included in the package let's look at a single game example to see how we combine external forecasts (in the form of a length two vector) and existing models.  
